<div class="yotpo-reviews-form">
    <div class="yotpo-reviews-form__flex">
        <div class="yotpo-reviews-form__product">
            <figure class="yotpo-reviews-form__product-figure">
                <%= render 'spree/shared/image', image: @product.gallery.images.first, size: :small %>
                <figcaption><%= @product.name %></figcaption>
            </figure>
        </div>

        <%= form_for :review, url: product_reviews_path(@product), html: { class: 'yotpo-reviews-form__form' } do |f| %>
            <h3 class="yotpo-reviews-form__title"><%= t('solidus_yotpo.form.title') %></h3>

            <fieldset class="yotpo-reviews-form__field is-inline">
                <%= f.label :score, class: 'yotpo-reviews-form__label' %>
                <div class="yotpo-rating lg">
                    <%== stars(f.object, editable: true) %>
                </div>
            </fieldset>

            <fieldset class="yotpo-reviews-form__field">
                <%= f.label :title, class: 'yotpo-reviews-form__label' %>
                <%= f.text_field :title, class: 'yotpo-reviews-form__control', required: true %>
            </fieldset>

            <fieldset class="yotpo-reviews-form__field">
                <%= f.label :content, class: 'yotpo-reviews-form__label' %>
                <%= f.text_area :content, class: 'yotpo-reviews-form__control', required: true, rows: 5 %>
            </fieldset>

            <fieldset class="yotpo-reviews-form__field yotpo-reviews-form__actions">
                <%= f.submit t('solidus_yotpo.form.submit'), class: 'yotpo-reviews-form__control yotpo-reviews-form__submit' %>
                <%= link_to t('spree.cancel'), spree.product_path(@product), class: '' %>
            </fieldset>
        <% end %>
    </div>
</div>
